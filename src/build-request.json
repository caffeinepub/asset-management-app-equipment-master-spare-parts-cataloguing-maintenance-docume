{
  "kind": "build_request",
  "title": "Use uploaded file for attribute definitions",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-19",
      "text": "Parse the uploaded Excel file to extract attribute definitions including attribute names, data types, validation rules, and any associated metadata",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-user-use-file"
        ]
      },
      "acceptanceCriteria": [
        "Backend can parse Excel file format and extract attribute schema data",
        "Extracted attributes include name, type, and validation constraints",
        "Parsing errors are handled gracefully with meaningful error messages"
      ]
    },
    {
      "id": "REQ-20",
      "text": "Store the parsed attribute definitions in the backend state so they can be used for spare part cataloguing and validation",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-user-use-file"
        ]
      },
      "acceptanceCriteria": [
        "Attribute definitions are persisted in backend state",
        "Attributes can be retrieved and listed via backend query methods",
        "Attribute schema supports dynamic field types and validation rules"
      ]
    },
    {
      "id": "REQ-21",
      "text": "Update the Spare Part Master form to dynamically render attribute fields based on the definitions loaded from the uploaded file",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-use-file"
        ]
      },
      "acceptanceCriteria": [
        "Spare Part Master form displays attributes from the uploaded template",
        "Form fields match the data types specified in the attribute definitions",
        "Validation rules from the template are applied to form inputs",
        "Form adapts when different attribute templates are loaded"
      ]
    },
    {
      "id": "REQ-22",
      "text": "Connect the AttributeTemplateImport component to use the uploaded file as the source for attribute definitions instead of relying on static templates",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-user-use-file"
        ]
      },
      "acceptanceCriteria": [
        "AttributeTemplateImport component successfully uploads the file to backend",
        "Backend processes the file and returns confirmation of loaded attributes",
        "Frontend displays success message with count of attributes loaded",
        "Spare Part Master form immediately reflects the new attribute schema"
      ]
    }
  ],
  "constraints": [
    "Maintain compatibility with existing SparePartMasterForm component structure",
    "Preserve the noun-modifier-attribute taxonomy approach",
    "Do not modify existing cataloguing records or spare parts already created"
  ],
  "nonGoals": [
    "Creating a visual attribute template editor",
    "Supporting multiple simultaneous attribute templates",
    "Versioning or historical tracking of attribute definitions"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}